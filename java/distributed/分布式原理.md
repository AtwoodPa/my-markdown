# 分布式

## 理论&算法&协议
### CAP理论
CAP理论是分布式系统理论中的一个重要概念，它描述了在一个分布式系统中，一致性（Consistency）、可用性（Availability）和分区容错性（Partition tolerance）这三个特性之间的权衡关系。
- 组成部分
  - 一致性（Consistency）
    - 在分布式系统中的所有数据备份，在同一时刻是否同样的值
    - 一致性要求系统在任何时候看起来都是一致的，即使在分布式环境下也是如此
  - 可用性（Availability）
    - 在集群中一部分节点故障后，集群整体是否还能响应客户端的读写请求
    - 可用性要求系统随时都能够处理请求，即使在出现故障或异常的情况下也是如此
  - 分区容错性（Partition tolerance）
    - 以实际效果而言，分区相当于网络通信的延迟或者丢包，分区容忍性意味着系统在遇到网络分区故障的时候，仍然能够对外提供满足一致性和可用性的服务
    - 分区容错性要求系统能够在网络发生故障时继续运行，并且不会因为分区而导致整个系统的故障
- 注意
  - 一致性和可用性是互斥的，**分区容错性**是必须的。
  - 在设计分布式系统时，需要考虑如何在网络分区发生时保证系统的一致性和可用性
    - 一致性
      - 使用副本机制来保证数据的一致性
    - 可用性
      - 分区容错算法来保证系统的可用性
- 网络分区
  - 由于网络故障或不稳定性导致系统中的节点被划分成多个不连通的子集，使得这些子集之间无法进行正常的通信和数据交换的现象。
  - 原因
    - 网络故障
    - 网络拥塞
    - 硬件故障

