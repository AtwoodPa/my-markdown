# ElasticSearch总结

## ES特点和优势

在经过上周系统学习ElasticSearch基础知识以及常见的API，最后通过Spring Boot整合elasticsearch实现分词搜索、关键字高亮显示等功能。

我总结了一下ES的**特点和优势**：

*   分布式架构
    
    *   Elasticsearch 是一个分布式系统，可以轻松地水平扩展，处理大规模的数据集和高并发的查询请求
        
*   全文检索功能
    
    *   Elasticsearch 提供了强大的全文检索功能，包括**分词**、**词项查询**、**模糊匹配**、**多字段搜索**等，并支持丰富的查询语法和过滤器
        
*   多语言支持
    
    *   Elasticsearch 支持多种语言的分词器和语言处理器，可以很好地处理不同语言的文本数据
        
*   高性能
    
    *   Elasticsearch 使用**倒排索引**和**缓存**等技术，具有快速的搜索速度和高效的查询性能
        
*   实时性
    
    *   Elasticsearch 支持实时索引和搜索，可以几乎实时地将文档添加到索引中，并立即可见
        
*   易用性
    
    *   Elasticsearch 提供了简单易用的 RESTful API，方便进行索引管理、查询操作和数据分析
        

## ES应用场景

在**搜索**的场景下，ES是最好的选择了，国内大量公司都在使用**elasticsearch**，例如携程、滴滴、今日头条、饿了么、小米、vivo、oppo。

*   **搜索引擎**
    
*   **站内搜素**
    

除了搜索的场景，**ES**通过结合**kibana、Logstash、Beats**组成**Elastic Stack**生态圈在大数据实时分析领域，为**日志分析、指标监控、信息安全**提供全方位的支持。通过Elastic Stack可以实现探索海量结构化、非结构化数据，按需创建可视化报表，对监控数据设置报警阈值，甚至通过使用机器学习技术，自动识别异常状况。

*   **日志管理与分析**
    
*   **大数据分析**
    

**常见网站案例：**

*   维基百科
    
    *   类似百度百科，牙膏，牙膏的维基百科，全文检索，高亮，搜索推荐。
        
*   The Guardian
    
    *   类似搜狐新闻，用户行为日志（点击，浏览，收藏，评论）+ 社交网络数据（对某某新闻的相关看法），数据分析，给到每篇新闻文章的作者，让他知道他的文章的公众反馈（好，坏，热门，垃圾，鄙视，崇拜）
        
*   Stack Overflow
    
    *   IT问题，程序的报错，提交上去，有人会跟你讨论和回答，全文检索，搜索相关问题和答案，程序报错了，就会将报错信息粘贴到里面去，搜索有没有对应的答案
        
*   GitHub
    
    *   搜索上千亿行代码
        

## 技术选型

以下是ElasticSearch、Solr、MongDB、MySQL的对比

|   |  **Elasticsearch**  |  **Solr**  |  **MongoDB**  |  **MySQL**  |
| --- | --- | --- | --- | --- |
|  DB类型  |  搜索引擎/数据存储  |  搜索引擎/数据存储  |  文档型 NoSQL  |  关系型数据库管理系统  |
|  框架开发  |  基于Lucene  |  基于Lucene  |  C++、JavaScript  |  C/C++  |
|  语言开发  |  Java  |  Java  |  C++、JavaScript  |  C/C++  |
|  数据结构  |  文档  |  文档  |  文档  |  表格（关系型）  |
|  数据格式  |  JSON/BSON  |  JSON/BSON  |  JSON/BSON  |  表格结构（行和列）  |
|  分布式支持  |  内建分布式支持  |  内建分布式支持  |  分片和复制  |  有分布式特性但不如搜索引擎  |
|  数据分区方案  |  分片、副本  |  分片、副本  |  分片  |  分区表、分片  |
|  业务系统类型  |  搜索、日志分析、实时数据分析  |  搜索、日志分析、实时数据分析  |  内容管理、实时分析  |  事务处理、关系型数据存储  |
|  事务支持  |  有限或基于特定插件的支持  |  有限或基于特定插件的支持  |  单文档事务  |  完整事务支持  |
|  数据量级别  |  **PB级**  |  **TB～PB级**  |  适合**中大**规模数据 **PB级**  |  适合**中小**规模数据 **单库3000万**  |
|  一致性策略  |  最终一致性  |  最终一致性  |  读写一致性  |  强一致性  |
|  擅长领域  |  全文搜索、日志分析、实时数据分析  |  全文搜索、日志分析、实时数据分析  |  内容管理、实时分析、大数据应用  |  事务处理、关系型数据存储、应用开发  |
|  劣势  |  不擅长复杂事务处理  |  不擅长复杂事务处理  |  在复杂事务和关系型数据库需求下表现较弱  |  在处理大量非结构化数据和分布式环境下效率较低  |
|  查询性能  |  非常快速的搜索引擎，适合复杂查询  |  非常快速的搜索引擎，适合复杂查询  |  快速的文档型数据库，但在某些复杂查询上性能稍弱  |  在正确索引和查询优化下有不错性能  |
|  写入性能  |  对大规模数据实时写入有良好性能  |  对大规模数据实时写入有良好性能  |  快速的写入性能，但在高并发写入时可能有限制  |  对写入有较好支持，但在大规模写入场景下可能有性能问题  |